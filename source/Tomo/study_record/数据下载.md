# Record finite freqency tomography work of Alps reigon

## **1. List of program**
**1.1 需求**

 1. 我需要做远震体波的有限频层析成像，选择的台网有`CIFALPs-1`, `CIFALPS-2` 和开放的欧洲永久地震台网。
 因此我的需求是: 
    1. 根据台站的位置来下载特定震中距范围内`(30~110)`的地震事件

    2. 下载地震事件目录，筛选出在距离我研究区域震中距大约`(30~110)`范围内的所有地震事件，然后再批量下载.
        
        按照地震事件目录来存放下载的数据

## **2. Data download**

**2.1 数据格式**

 * Full SEED 格式：也就是一般说的 SEED 格式，包含波形数据以及仪器相关信息
 (好像现在SEED格式的数据已经被放弃了)；

 * miniSEED 格式：仅包含波形数据；

 * dataless SEED 格式：仅包含仪器相关信息，如`locations, operating periods and instrument responses`；(现在仪器相关的信息被储存在`stationxml`文件中，可以通过
 `stationxml-seed-converter`程序转化成`dataless`，参见2.2)

**2.2 数据格式转换**

 1. `miniseed` to `sac`
    
     Program:  `rdseed`, `stationxml-seed-converter`

     1. 将 `stationxml` 转换成 `dataless SEED`

        程序： `stationxml-seed-converter`  
        From： <https://github.com/iris-edu/stationxml-seed-converter>  
        code language： Java


            java -jar PATH/TO/stationxml-seed-converter-2.1.0.jar --input /PATH/TO/StnXML_file.xml --output /PATH/TO/StnXML_file.dataless 
     
     2. 转换为`sac`格式

        程序： `rdseed`  
        From:  <http://ds.iris.edu/pub/programs/> (这里面有很多地震学的程序，有时间可以都了解一下)

            从dataless SEED 中提取RESP仪器响应  
            rdseed -Rdf infile.miniseed -g infile.dataless 

            dataless SEED 中提取 PZ 仪器响应  
            rdseed -pdf infile.miniseed -g infile.dataless

**2.3 我所需要用到的地震事件，台网**

在`IRIS`的`gmap`功能上可以查询并下载研究区域中的地震台网信息（可以查询台站的`channe`，这一点非常方便）：

<http://ds.iris.edu/gmap/#network=CH&station=*&starttime=2019-09-01&endtime=2019-12-08&planet=earth>

 1. 台网
    * 欧洲地震数据库(EIDA: Europen Integrated Data Archive)

        <http://www.orfeus-eu.org/data/eida/>

        1. CH: <https://www.fdsn.org/networks/detail/CH/> 

            Data center: ~SED~, ETH & IRIS(FDSN中没有SED数据库，需要自行去官网下载`stationxml`
            ，但是可以利用`mass_downloader`下载`SED`的波形数据，`SED`数据库可以用`ETH`来代替)  

            利用`Geo`查询得到的与利用obspy`get_station()`函数下载的台站信息有一处差别：
            `CH.MFERR`台站, 在`Geo`上查得该台站的信息在我所要的时间段内的`channel`为`EH*`，
            也即是说该台站信息应该舍去。


            Period：~ 2020/12/20
        
        2. FR: <https://www.fdsn.org/networks/detail/FR/> 
        
            Data center: RESIF

            Period: 1962 ~ now 

        3. RD:
        
            Data center: RESIF

        4. G: <https://www.fdsn.org/networks/detail/G/>
        
            Data center: RESIF

            Period: 1982 ~ now

        5. IV:<https://www.fdsn.org/networks/detail/IV/>

            Data center: INGV

            Period: 1988 ~ now

        6. GU：<https://www.fdsn.org/networks/detail/GU/>

            Data center: INGV

            Period: 1967 ~ now

 2. 地震仪类型

    * BH（NEZ）：      

**2.4 数据下载**

 时间段：CIFALPS2(2018-9-13 ~ 2019-12-5)

 <https://seismology.resif.fr/fr/reseaux/#/XT__2018>

 **1. Research areas**  
    latitude : 38 ~ 50  
    longitude: 0  ~ 20

**2. Data Download**
 * 获取地震事件目录（观测时间，震级，震中距）
   1. 现根据一个区域（eg: [0~20]x[38~50]）的中心经纬度截取地震事件，震中距`30~110`，震级>5.5;
   2. 如何计算震中距：
    


